(function(t,e){if(typeof t._mu==="undefined"){t._mu={}}if(typeof exports==="object"){return module.exports=e()}else if(typeof define==="function"&&define.amd){return define("muplayer/core/cfg",e)}else{return t._mu.cfg=e()}})(this,function(){var t;t=this;return $.extend({namespace:t._mu,version:"1.0.0",timerResolution:25,engine:{TYPES:{FLASH_MP3:"FlashMP3Core",FLASH_MP4:"FlashMP4Core",AUDIO:"AudioCore"},EVENTS:{STATECHANGE:"engine:statechange",POSITIONCHANGE:"engine:postionchange",PROGRESS:"engine:progress",ERROR:"engine:error",INIT:"engine:init",INIT_FAIL:"engine:init_fail",WAITING_TIMEOUT:"engine:waiting_timeout"},STATES:{CANPLAYTHROUGH:"canplaythrough",PREBUFFER:"waiting",BUFFERING:"loadeddata",PLAYING:"playing",PAUSE:"pause",STOP:"suspend",END:"ended"},ERRCODE:{MEDIA_ERR_ABORTED:"1",MEDIA_ERR_NETWORK:"2",MEDIA_ERR_DECODE:"3",MEDIA_ERR_SRC_NOT_SUPPORTED:"4"}}},typeof t._mu==="undefined"?{}:t._mu.cfg)});(function(t,e){if(typeof exports==="object"){return module.exports=e()}else if(typeof define==="function"&&define.amd){return define("muplayer/core/utils",["muplayer/core/cfg"],e)}else{return t._mu.utils=e(t._mu.cfg)}})(this,function(t){var e,r,i,n,o,s,a,u,p,l,f,c,h,y,d,g,m;m={};n=String.prototype;r=Number.prototype;i=Object.prototype;e=Array.prototype;h=e.push;d=e.slice;g=i.toString;u=i.hasOwnProperty;c=Object.create;a=/\.(\w+)(\?.*)?$/;y=["Arguments","Function","String","Number","Date","RegExp"];for(p=0,l=y.length;p<l;p++){f=y[p];m["is"+f]=function(t){return function(e){return g.call(e)==="[object "+t+"]"}}(f)}if(!$.isFunction(n.startsWith)){n.startsWith=function(t){return this.slice(0,t.length)===t}}if(!$.isFunction(n.endsWith)){n.endsWith=function(t){return this.slice(-t.length)===t}}r.toFixed=function(t){var e,r,i;i=Math.pow(10,t);e=(Math.round(this*i)/i).toString();if(t===0){return e}if(e.indexOf(".")<0){e+="."}r=t+1-(e.length-e.indexOf("."));while(r--){e+="0"}return e};o=function(t){var e;if(!$.isPlainObject(t)){return{}}if(c){return c(t)}Ctor.prototype=t;e=new Ctor;Ctor.prototype=null;return e};s=function(t,e,r,i,n){var s,a;if(!(i instanceof e)){return t.apply(r,n)}a=o(t.prototype);s=t.apply(a,n);if($.isPlainObject(s)){return s}return a};$.extend(m,{isBoolean:function(t){return t===true||t===false||g.call(t)==="[object Boolean]"},has:function(t,e){return u.call(t,e)},random:function(t,e){if(!e){e=t;t=0}return t+Math.floor(Math.random()*(e-t+1))},shuffle:function(t){var e,r,i,n,o,s;e=0;s=[];for(i=0,n=t.length;i<n;i++){r=t[i];o=this.random(e++);s[e-1]=s[o];s[o]=r}return s},time2str:function(t){var e,r,i,n,o,s;o=[];e=Math.floor;t=Math.round(t);r=e(t/3600);i=e((t-3600*r)/60);s=t%60;n=function(t,e){var r,i,n;i="";r="";if(t<0){r="-"}n=String(Math.abs(t));if(n.length<e){i=new Array(e-n.length+1).join("0")}return r+i+n};if(r){o.push(r)}o.push(n(i,2));o.push(n(s,2));return o.join(":")},namespace:function(){var e,r,i,n,o,s,a,u,p,l;e=arguments;p=".";for(o=0,a=e.length;o<a;o++){r=e[o];u=t.namespace;if(r.indexOf(p)>-1){i=r.split(p);l=[0,i.length],n=l[0],s=l[1];while(n<s){u[i[n]]=u[i[n]]||{};u=u[i[n]];n++}}else{u[r]=u[r]||{};u=u[r]}}return u},partial:function(t){var e,r;r=d.call(arguments,1);e=function(){var i,n,o,a;a=0;o=r.length;i=Array(o);n=0;while(n<o){i[n]=r[n]===m?arguments[a++]:r[n];n++}while(a<arguments.length){i.push(arguments[a++])}return s(t,e,this,this,i)};return e},wrap:function(t,e){return m.partial(e,t)},toAbsoluteUrl:function(t){var e;e=document.createElement("div");e.innerHTML="<a></a>";e.firstChild.href=t;e.innerHTML=e.innerHTML;return e.firstChild.href},getExt:function(t){var e;e="";if(a.test(decodeURIComponent(t))){e=RegExp.$1.toLocaleLowerCase()}return e}});return m});(function(t,e){if(typeof exports==="object"){module.exports=e()}else if(typeof define==="function"&&define.amd){define("muplayer/lib/Timer",e)}else{t._mu.Timer=e()}})(this,function(){function t(t){if(typeof t==="string"){if(isNaN(parseInt(t,10))){t="1"+t}var e=t.replace(/[^a-z0-9\.]/g,"").match(/(?:(\d+(?:\.\d+)?)(?:days?|d))?(?:(\d+(?:\.\d+)?)(?:hours?|hrs?|h))?(?:(\d+(?:\.\d+)?)(?:minutes?|mins?|m\b))?(?:(\d+(?:\.\d+)?)(?:seconds?|secs?|s))?(?:(\d+(?:\.\d+)?)(?:milliseconds?|ms))?/);if(e[0]){return parseFloat(e[1]||0)*864e5+parseFloat(e[2]||0)*36e5+parseFloat(e[3]||0)*6e4+parseFloat(e[4]||0)*1e3+parseInt(e[5]||0,10)}if(!isNaN(parseInt(t,10))){return parseInt(t,10)}}if(typeof t==="number"){return t}return 0}function e(t,e){return parseInt(t/e,10)||1}function r(e){if(this instanceof r===false){return new r(e)}this._notifications=[];this._resolution=t(e)||1e3;this._running=false;this._ticks=0;this._timer=null;this._drift=0}r.prototype={start:function(){var t=this;if(!this._running){this._running=!this._running;setTimeout(function e(){t._ticks++;for(var r=0,i=t._notifications.length;r<i;r++){if(t._notifications[r]&&t._ticks%t._notifications[r].ticks===0){t._notifications[r].callback.call(t._notifications[r],{ticks:t._ticks,resolution:t._resolution})}}if(t._running){clearTimeout(t._timer);t._timer=setTimeout(e,t._resolution+t._drift);t._drift=0}},this._resolution)}return this},stop:function(){if(this._running){this._running=!this._running;clearTimeout(this._timer)}return this},reset:function(){this.stop();this._ticks=0;return this},clear:function(){this.reset();this._notifications=[];return this},ticks:function(){return this._ticks},resolution:function(){return this._resolution},running:function(){return this._running},bind:function(r,i){if(r&&i){var n=e(t(r),this._resolution);this._notifications.push({ticks:n,callback:i})}return this},unbind:function(t){if(!t){this._notifications=[]}else{for(var e=0,r=this._notifications.length;e<r;e++){if(this._notifications[e]&&this._notifications[e].callback===t){this._notifications.splice(e,1)}}}return this},drift:function(t){this._drift=t;return this}};r.prototype.every=r.prototype.bind;r.prototype.after=function(t,e){var i=this;r.prototype.bind.call(i,t,function n(){r.prototype.unbind.call(i,n);e.apply(this,arguments)});return this};return r});(function(t,e){if(typeof exports==="object"){module.exports=e()}else if(typeof define==="function"&&define.amd){define("muplayer/lib/events",e)}else{t._mu.Events=e()}})(this,function(){var t=/\s+/;function e(){}e.prototype.on=function(e,r,i){var n,o,s;if(!r)return this;n=this.__events||(this.__events={});e=e.split(t);while(o=e.shift()){s=n[o]||(n[o]=[]);s.push(r,i)}return this};e.prototype.once=function(t,e,r){var i=this;var n=function(){i.off(t,n);e.apply(this,arguments)};this.on(t,n,r)};e.prototype.off=function(e,i,n){var o,s,a,u;if(!(o=this.__events))return this;if(!(e||i||n)){delete this.__events;return this}e=e?e.split(t):r(o);while(s=e.shift()){a=o[s];if(!a)continue;if(!(i||n)){delete o[s];continue}for(u=a.length-2;u>=0;u-=2){if(!(i&&a[u]!==i||n&&a[u+1]!==n)){a.splice(u,2)}}}return this};e.prototype.trigger=function(e){var r,n,o,s,a,u,p=[],l,f=true;if(!(r=this.__events))return this;e=e.split(t);for(a=1,u=arguments.length;a<u;a++){p[a-1]=arguments[a]}while(n=e.shift()){if(o=r.all)o=o.slice();if(s=r[n])s=s.slice();f=i(s,p,this)&&f;f=i(o,[n].concat(p),this)&&f}return f};e.prototype.emit=e.prototype.trigger;e.mixTo=function(t){t=n(t)?t.prototype:t;var r=e.prototype;for(var i in r){if(r.hasOwnProperty(i)){t[i]=r[i]}}};var r=Object.keys;if(!r){r=function(t){var e=[];for(var r in t){if(t.hasOwnProperty(r)){e.push(r)}}return e}}function i(t,e,r){if(t){var i=0,n=t.length,o=e[0],s=e[1],a=e[2],u=true;switch(e.length){case 0:for(;i<n;i+=2){u=t[i].call(t[i+1]||r)!==false&&u}break;case 1:for(;i<n;i+=2){u=t[i].call(t[i+1]||r,o)!==false&&u}break;case 2:for(;i<n;i+=2){u=t[i].call(t[i+1]||r,o,s)!==false&&u}break;case 3:for(;i<n;i+=2){u=t[i].call(t[i+1]||r,o,s,a)!==false&&u}break;default:for(;i<n;i+=2){u=t[i].apply(t[i+1]||r,e)!==false&&u}break}}return u}function n(t){return Object.prototype.toString.call(t)==="[object Function]"}return e});var indexOf=[].indexOf||function(t){for(var e=0,r=this.length;e<r;e++){if(e in this&&this[e]===t)return e}return-1};(function(t,e){if(typeof exports==="object"){return module.exports=e()}else if(typeof define==="function"&&define.amd){return define("muplayer/core/playlist",["muplayer/core/utils","muplayer/lib/events"],e)}else{return t._mu.Playlist=e(_mu.utils,_mu.Events)}})(this,function(t,e){var r;r=function(){function e(t){this.opts=$.extend({},this.defaults,t);this.reset()}e.prototype.reset=function(){this.cur="";if($.isArray(this.list)){this.list.length=0}else{this.list=[]}return this};e.prototype.destroy=function(){return this.reset().off()};e.prototype._resetListRandom=function(e){var r,i,n;if(this.mode==="list-random"){e=e||0;this._listRandomIndex=e;this._listRandom=t.shuffle(function(){n=[];for(var t=0,e=this.list.length;0<=e?t<e:t>e;0<=e?t++:t--){n.push(t)}return n}.apply(this));this.cur=this.list[this._listRandom[e]];return this.trigger("playlist:resetListRandom")}};e.prototype._formatSid=function(e){var r,i,n;r=this.opts.absoluteUrl;i=function(e){return r&&t.toAbsoluteUrl(e)||""+e};return $.isArray(e)&&function(){var t,r,o;o=[];for(t=0,r=e.length;t<r;t++){n=e[t];if(n){o.push(i(n))}}return o}()||i(e)};e.prototype.setMode=function(t){if(t==="single"||t==="random"||t==="list-random"||t==="list"||t==="loop"){this.mode=t}return this._resetListRandom()};e.prototype.add=function(t,e){if(e==null){e=true}t=this._formatSid(t);this.remove(t);if($.isArray(t)){if(t.length){this.list=e&&t.concat(this.list)||this.list.concat(t)}}else if(t){this.list[e&&"unshift"||"push"](t)}this.trigger("playlist:add",t);return this._resetListRandom()};e.prototype.remove=function(t){var e,r,i,n;n=function(t){return function(e){var r;r=$.inArray(e,t.list);if(r!==-1){return t.list.splice(r,1)}}}(this);t=this._formatSid(t);if($.isArray(t)){for(r=0,i=t.length;r<i;r++){e=t[r];n(e)}}else{n(t)}this.trigger("playlist:remove",t);return this._resetListRandom()};e.prototype.prev=function(){var e,r,i,n;i=this.list;e=$.inArray(this.cur,i);if(e===-1){e=0}r=i.length;n=e-1;switch(this.mode){case"single":n=e;break;case"random":n=t.random(0,r-1);break;case"list":if(e=0){this.cur="";return false}break;case"list-random":e=this._listRandomIndex--;n=e-1;if(e===0){n=r-1;this._resetListRandom(n)}return this.cur=i[this._listRandom[n]];case"loop":if(e===0){n=r-1}}return this.cur=i[n]};e.prototype.next=function(){var e,r,i,n;i=this.list;e=$.inArray(this.cur,i);if(e===-1){e=0}r=i.length;n=e+1;switch(this.mode){case"single":n=e;break;case"random":n=t.random(0,r-1);break;case"list":if(e===r-1){this.cur="";return false}break;case"list-random":e=this._listRandomIndex++;n=e+1;if(e===r-1){n=0;this._resetListRandom(n)}return this.cur=i[this._listRandom[n]];case"loop":if(e===r-1){n=0}}return this.cur=i[n]};e.prototype.setCur=function(t){t=this._formatSid(t);if(indexOf.call(this.list,t)<0){this.add(t)}return this.cur=t};return e}();e.mixTo(r);return r});var indexOf=[].indexOf||function(t){for(var e=0,r=this.length;e<r;e++){if(e in this&&this[e]===t)return e}return-1};(function(t,e){if(typeof exports==="object"){return module.exports=e()}else if(typeof define==="function"&&define.amd){return define("muplayer/core/engines/engineCore",["muplayer/core/cfg","muplayer/core/utils","muplayer/lib/events"],e)}else{return t._mu.EngineCore=e(_mu.cfg,_mu.utils,_mu.Events)}})(this,function(t,e,r){var i,n,o,s,a,u,p;u=t.engine,i=u.EVENTS,o=u.STATES;s=function(){var t;t=[];for(a in o){p=o[a];t.push(p)}return t}();n=function(){function t(){}t.prototype._supportedTypes=[];t.prototype.getSupportedTypes=function(){return this._supportedTypes};t.prototype.canPlayType=function(t){if(t==="mp4a"){t="m4a"}return $.inArray(t,this.getSupportedTypes())!==-1};t.prototype.reset=function(){this.stop();this._url="";this._canPlayThrough=false;this.trigger(i.PROGRESS,0);this.trigger(i.POSITIONCHANGE,0);return this};t.prototype.destroy=function(){return this.reset().off()};t.prototype.play=function(){return this};t.prototype.pause=function(){return this};t.prototype.stop=function(){return this};t.prototype.setUrl=function(t){if(t){this._url=t}return this};t.prototype.getUrl=function(){return this._url};t.prototype.setState=function(t){var e;if(!this.getUrl()){t=o.STOP}if(indexOf.call(s,t)<0||t===this._state){return}if(this._canPlayThrough&&(t===o.PREBUFFER||t===o.BUFFERING)){return}e=this._state;this._state=t;return this.trigger(i.STATECHANGE,{oldState:e,newState:t})};t.prototype.getState=function(){return this._state};t.prototype.setVolume=function(t){this._volume=t;return this};t.prototype.getVolume=function(){return this._volume};t.prototype.setMute=function(t){this._mute=t;return this};t.prototype.getMute=function(){return this._mute};t.prototype.setCurrentPosition=function(t){return this};t.prototype.getCurrentPosition=function(){return 0};t.prototype.getLoadedPercent=function(){return 0};t.prototype.getTotalTime=function(){return 0};return t}();r.mixTo(n);return n});(function(t,e){if(typeof exports==="object"){module.exports=e()}else if(typeof define==="function"&&define.amd){define("muplayer/lib/modernizr.audio",e)}else{t._mu.Modernizr=e()}})(this,function(){return function(t,e,r){var i="2.7.1",n={},o=e.documentElement,s="modernizr",a=e.createElement(s),u=a.style,p,l={}.toString,f={},c={},h={},y=[],d=y.slice,g,m={}.hasOwnProperty,v;if(!T(m,"undefined")&&!T(m.call,"undefined")){v=function(t,e){return m.call(t,e)}}else{v=function(t,e){return e in t&&T(t.constructor.prototype[e],"undefined")}}if(!Function.prototype.bind){Function.prototype.bind=function P(t){var e=this;if(typeof e!="function"){throw new TypeError}var r=d.call(arguments,1),i=function(){if(this instanceof i){var n=function(){};n.prototype=e.prototype;var o=new n;var s=e.apply(o,r.concat(d.call(arguments)));if(Object(s)===s){return s}return o}else{return e.apply(t,r.concat(d.call(arguments)))}};return i}}function _(t){u.cssText=t}function E(t,e){return _(prefixes.join(t+";")+(e||""))}function T(t,e){return typeof t===e}function S(t,e){return!!~(""+t).indexOf(e)}function w(t,e,i){for(var n in t){var o=e[t[n]];if(o!==r){if(i===false)return t[n];if(T(o,"function")){return o.bind(i||e)}return o}}return false}f["audio"]=function(){var t=e.createElement("audio"),r=false;try{if(r=!!t.canPlayType){r=new Boolean(r);r.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"");r.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,"");r.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"");r.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,"")}}catch(i){}return r};for(var C in f){if(v(f,C)){g=C.toLowerCase();n[g]=f[C]();y.push((n[g]?"":"no-")+g)}}n.addTest=function(t,e){if(typeof t=="object"){for(var i in t){if(v(t,i)){n.addTest(i,t[i])}}}else{t=t.toLowerCase();if(n[t]!==r){return n}e=typeof e=="function"?e():e;if(typeof enableClasses!=="undefined"&&enableClasses){o.className+=" "+(e?"":"no-")+t}n[t]=e}return n};_("");a=p=null;n._version=i;return n}(this,this.document)});var bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){for(var r in e){if(hasProp.call(e,r))t[r]=e[r]}function i(){this.constructor=t}i.prototype=e.prototype;t.prototype=new i;t.__super__=e.prototype;return t},hasProp={}.hasOwnProperty,slice=[].slice;(function(t,e){if(typeof exports==="object"){return module.exports=e()}else if(typeof define==="function"&&define.amd){return define("muplayer/core/engines/audioCore",["muplayer/core/cfg","muplayer/core/utils","muplayer/core/engines/engineCore","muplayer/lib/modernizr.audio"],e)}else{return t._mu.AudioCore=e(_mu.cfg,_mu.utils,_mu.EngineCore,_mu.Modernizr)}})(this,function(t,e,r,i){var n,o,s,a,u,p,l,f;f=window;l=navigator.userAgent;p=t.engine,u=p.TYPES,s=p.EVENTS,a=p.STATES,o=p.ERRCODE;n=function(t){extend(r,t);r.defaults={confidence:"maybe",preload:false,autoplay:false,needPlayEmpty:true,emptyMP3:"empty.mp3"};r.prototype._supportedTypes=[];r.prototype.engineType=u.AUDIO;function r(t){this._playEmpty=bind(this._playEmpty,this);var e,n,o,s,u,p,l;this.opts=$.extend({},r.defaults,t);this.opts.emptyMP3=this.opts.baseDir+this.opts.emptyMP3;p=this.opts;u={"":0,maybe:1,probably:2};s=u[p.confidence];n=i.audio;if(!n){return this}for(o in n){l=n[o];if(u[l]>=s){this._supportedTypes.push(o)}}e={};n=new Audio;n.preload=p.preload;n.autoplay=p.autoplay;n.loop=false;n.on=function(t,r){var i;n.addEventListener(t,r,false);i=e[t];if(!i){i=[]}i.push(r);return n};n.off=function(t,r){var i,o,s;if(!t&&!r){for(t in e){s=e[t];for(i=0,o=s.length;i<o;i++){r=s[i];n.removeEventListener(t,r,false)}}}else{n.removeEventListener(t,r,false)}return n};this.audio=n;this._needCanPlay(["play","setCurrentPosition"]);this.setState(a.STOP)._initEvents();if(p.needPlayEmpty){f.addEventListener("touchstart",this._playEmpty,false)}}r.prototype._test=function(){if(!i.audio||!this._supportedTypes.length){return false}return true};r.prototype._playEmpty=function(){if(!this.getUrl()){this.setUrl(this.opts.emptyMP3).play()}return f.removeEventListener("touchstart",this._playEmpty,false)};r.prototype._isEmpty=function(){return this.getUrl()===this.opts.emptyMP3};r.prototype._initEvents=function(){var t,e,r,i,n,o,u;o=this;t=this.audio,u=this.trigger;n=[null,null],e=n[0],i=n[1];this.trigger=function(t,e){if(o._isEmpty()){return o}return u.call(o,t,e)};r=function(t){t=t||o.getLoadedPercent();o.trigger(s.PROGRESS,t);if(t===1){clearInterval(i);o._canPlayThrough=true;return o.setState(a.CANPLAYTHROUGH)}};return t.on("loadstart",function(){clearInterval(i);i=setInterval(function(){return r()},50);return o.setState(a.PREBUFFER)}).on("playing",function(){clearTimeout(e);return o.setState(a.PLAYING)}).on("ended",function(){return o.setState(a.END)}).on("error",function(t){clearTimeout(e);return e=setTimeout(function(){return o.trigger(s.ERROR,t)},2e3)}).on("waiting",function(){return o.setState(a.PREBUFFER)}).on("loadeddata",function(){return o.setState(a.BUFFERING)}).on("timeupdate",function(){return o.trigger(s.POSITIONCHANGE,o.getCurrentPosition())}).on("progress",function(t){var e,n;clearInterval(i);if(!o._canPlayThrough){e=t.loaded||0;n=t.total||1;return r(e&&(e/n).toFixed(2)*1)}})};r.prototype._needCanPlay=function(t){var r,i,n,o,s,a;a=this;r=this.audio;s=[];for(i=0,n=t.length;i<n;i++){o=t[i];s.push(this[o]=e.wrap(this[o],function(){var t,e,i,n;e=arguments[0],t=2<=arguments.length?slice.call(arguments,1):[];n=null;i=function(){clearTimeout(n);e.apply(a,t);return r.off("canplay",i)};if(/webkit/.test(l.toLowerCase())){if(r.readyState<3){r.on("canplay",i)}else{e.apply(a,t)}}else{n=setTimeout(function(){var r;try{return e.apply(a,t)}catch(i){r=i;return typeof console!=="undefined"&&console!==null?typeof console.error==="function"?console.error("error: ",r):void 0:void 0}},1e3);r.on("canplay",i)}return a}))}return s};r.prototype.destroy=function(){r.__super__.destroy.call(this);this.audio.off();return this};r.prototype.play=function(){this.audio.play();return this};r.prototype.pause=function(){return this.audio.pause()};r.prototype.stop=function(){try{return this.audio.currentTime=0}catch(t){}finally{this.audio.pause()}};r.prototype.setUrl=function(t){if(t){this.audio.src=t;this.audio.load()}return r.__super__.setUrl.call(this,t)};r.prototype.setVolume=function(t){this.audio.volume=t/100;return r.__super__.setVolume.call(this,t)};r.prototype.setMute=function(t){this.audio.muted=t;return r.__super__.setMute.call(this,t)};r.prototype.setState=function(t){if(this._isEmpty()){return this}return r.__super__.setState.call(this,t)};r.prototype.setCurrentPosition=function(t){try{this.audio.currentTime=t/1e3}catch(e){return}finally{this.play()}return this};r.prototype.getCurrentPosition=function(){return~~(this.audio.currentTime*1e3)};r.prototype.getLoadedPercent=function(){var t,e,r,i,n,o;t=this.audio;e=t.currentTime;i=t.buffered;if(i){r=i.length;while(r--){if(i.start(r)<=(o=t.currentTime)&&o<=i.end(r)){e=i.end(r);break}}}n=this.getTotalTime()/1e3;e=e>n?n:e;return n&&(e/n).toFixed(2)*1||0};r.prototype.getTotalTime=function(){var t,e,r,i,n;n=this.audio,i=n.duration,e=n.buffered,r=n.currentTime;i=~~i;if(i===0&&e){t=e.length;if(t>0){i=e.end(--t)}else{i=r}}return i&&i*1e3||0};return r}(r);return n});(function(t,e){if(typeof exports==="object"){module.exports=e()}else if(typeof define==="function"&&define.amd){define("muplayer/lib/jquery.swfobject",e)}else{e()}})(this,function(){(function(t,e,r){var i="object",n=true;function o(t,e){var r=(t[0]||0)-(e[0]||0);return r>0||!r&&t.length>0&&o(t.slice(1),e.slice(1))}function s(t){if(typeof t!=i){return t}var e=[],r="";for(var o in t){if(typeof t[o]==i){r=s(t[o])}else{r=[o,n?encodeURI(t[o]):t[o]].join("=")}e.push(r)}return e.join("&")}function a(t){var e=[];for(var r in t){if(t[r]){e.push([r,'="',t[r],'"'].join(""))}}return e.join(" ")}function u(t){var e=[];for(var r in t){e.push(['<param name="',r,'" value="',s(t[r]),'" />'].join(""))}return e.join("")}try{var p=r.description||function(){return new r("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}()}catch(l){p="Unavailable"}var f=p.match(/\d+/g)||[0];t[e]={available:f[0]>0,activeX:r&&!r.name,version:{original:p,array:f,string:f.join("."),major:parseInt(f[0],10)||0,minor:parseInt(f[1],10)||0,release:parseInt(f[2],10)||0},hasVersion:function(t){var e=/string|number/.test(typeof t)?t.toString().split("."):/object/.test(typeof t)?[t.major,t.minor]:t||[0,0];return o(f,e)},encodeParams:true,expressInstall:"expressInstall.swf",expressInstallIsActive:false,create:function(t){var e=this;if(!t.swf||e.expressInstallIsActive||!e.available&&!t.hasVersionFail){return false}if(!e.hasVersion(t.hasVersion||1)){e.expressInstallIsActive=true;if(typeof t.hasVersionFail=="function"){if(!t.hasVersionFail.apply(t)){return false}}t={swf:t.expressInstall||e.expressInstall,height:137,width:214,flashvars:{MMredirectURL:location.href,MMplayerType:e.activeX?"ActiveX":"PlugIn",MMdoctitle:document.title.slice(0,47)+" - Flash Player Installation"}}}attrs={data:t.swf,type:"application/x-shockwave-flash",id:t.id||"flash_"+Math.floor(Math.random()*999999999),width:t.width||320,height:t.height||180,style:t.style||""};n=typeof t.useEncode!=="undefined"?t.useEncode:e.encodeParams;t.movie=t.swf;t.wmode=t.wmode||"opaque";delete t.fallback;delete t.hasVersion;delete t.hasVersionFail;delete t.height;delete t.id;delete t.swf;delete t.useEncode;delete t.width;var r=document.createElement("div");r.innerHTML=["<object ",a(attrs),">",u(t),"</object>"].join("");return r.firstChild}};t.fn[e]=function(r){var n=this.find(i).andSelf().filter(i);if(/string|object/.test(typeof r)){this.each(function(){var n=t(this),o;r=typeof r==i?r:{swf:r};r.fallback=this;o=t[e].create(r);if(o){n.children().remove();n.html(o)}})}if(typeof r=="function"){n.each(function(){var i=this,n="jsInteractionTimeoutMs";i[n]=i[n]||0;if(i[n]<660){if(i.clientWidth||i.clientHeight){r.call(i)}else{setTimeout(function(){t(i)[e](r)},i[n]+66)}}})}return n}})(jQuery,"flash",navigator.plugins["Shockwave Flash"]||window.ActiveXObject)});var extend=function(t,e){for(var r in e){if(hasProp.call(e,r))t[r]=e[r]}function i(){this.constructor=t}i.prototype=e.prototype;t.prototype=new i;t.__super__=e.prototype;return t},hasProp={}.hasOwnProperty,slice=[].slice;(function(t,e){if(typeof exports==="object"){return module.exports=e()}else if(typeof define==="function"&&define.amd){return define("muplayer/core/engines/flashCore",["muplayer/core/cfg","muplayer/core/utils","muplayer/lib/Timer","muplayer/core/engines/engineCore","muplayer/lib/jquery.swfobject"],e)}else{return t._mu.FlashCore=e(_mu.cfg,_mu.utils,_mu.Timer,_mu.EngineCore)}})(this,function(t,e,r,i){var n,o,s,a,u,p,l;p=t.engine,o=p.EVENTS,a=p.STATES,n=p.ERRCODE;l=t.timerResolution;u={1:a.CANPLAYTHROUGH,2:a.PREBUFFER,3:a.BUFFERING,4:a.PLAYING,5:a.PAUSE,6:a.STOP,7:a.END};s=function(t){extend(i,t);i.defaults={expressInstaller:"expressInstall.swf"};function i(t){var r,n,o,s;this.opts=s=$.extend({},i.defaults,this.defaults,t);this._state=a.STOP;this._loaded=false;this._queue=[];this._needFlashReady(["play","pause","stop","setCurrentPosition","_setUrl","_setVolume","_setMute"]);this._unexceptionGet(["getCurrentPosition","getLoadedPercent","getTotalTime"]);r=s.baseDir;n="muplayer_"+setTimeout(function(){},0);o=s.instanceName+"_"+n;e.namespace("engines")[o]=this;o="_mu.engines."+o;this.flash=$.flash.create({swf:r+s.swf+"?t="+ +new Date,id:n,height:1,width:1,allowscriptaccess:"always",wmode:"transparent",expressInstaller:r+s.expressInstaller,flashvars:{_instanceName:o,_buffertime:5e3}});this.flash.tabIndex=-1;s.$el.append(this.flash);this._initEvents()}i.prototype._test=function(){if(!this.flash||!$.flash.hasVersion(this.opts.flashVer)){return false}return true};i.prototype._initEvents=function(){var t,e,i;t=this;this.progressTimer=new r(l);this.positionTimer=new r(l);i=function(){var e;e=t.getLoadedPercent();if(t._lastPer!==e){t._lastPer=e;t.trigger(o.PROGRESS,e)}if(e===1){return t.progressTimer.stop()}};e=function(){var e;e=t.getCurrentPosition();if(t._lastPos!==e){t._lastPos=e;return t.trigger(o.POSITIONCHANGE,e)}};this.progressTimer.every("100 ms",i);this.positionTimer.every("100 ms",e);return this.on(o.STATECHANGE,function(r){var i;i=r.newState;switch(i){case a.PREBUFFER:case a.PLAYING:t.progressTimer.start();break;case a.PAUSE:case a.STOP:t.progressTimer.stop();break;case a.END:t.progressTimer.reset()}switch(i){case a.PLAYING:return t.positionTimer.start();case a.PAUSE:case a.STOP:t.positionTimer.stop();return e();case a.END:t.positionTimer.reset();return delete t._lastPos}})};i.prototype._needFlashReady=function(t){var r,i,n,o;o=[];for(r=0,i=t.length;r<i;r++){n=t[r];o.push(this[n]=e.wrap(this[n],function(t){return function(){var e,r;r=arguments[0],e=2<=arguments.length?slice.call(arguments,1):[];if(t._loaded){r.apply(t,e)}else{t._pushQueue(r,e)}return t}}(this)))}return o};i.prototype._unexceptionGet=function(t){var r,i,n,o;o=[];for(r=0,i=t.length;r<i;r++){n=t[r];o.push(this[n]=e.wrap(this[n],function(t){return function(){var e,r;r=arguments[0],e=2<=arguments.length?slice.call(arguments,1):[];try{return r.apply(t,e)}catch(i){return 0}}}(this)))}return o};i.prototype._pushQueue=function(t,e){return this._queue.push([t,e])};i.prototype._fireQueue=function(){var t,e,r,i;i=[];while(this._queue.length){r=this._queue.shift(),e=r[0],t=r[1];i.push(e.apply(this,t))}return i};i.prototype.reset=function(){i.__super__.reset.call(this);this.progressTimer.reset();this.positionTimer.reset();return this};i.prototype.destroy=function(){i.__super__.destroy.call(this);this.flash.off().remove();this.progressTimer.clear();this.progressTimer=null;this.positionTimer.clear();this.positionTimer=null;return this};i.prototype.play=function(){var t;if(this.getUrl()){try{this.flash.f_play()}catch(e){t=e;this.trigger(o.ERROR,t)}}return this};i.prototype.pause=function(){this.flash.f_pause();return this};i.prototype.stop=function(){this.flash.f_stop();return this};i.prototype._setUrl=function(t){return this.flash.f_load(t)};i.prototype.setUrl=function(t){if(t){this._setUrl(t)}return i.__super__.setUrl.call(this,t)};i.prototype.getState=function(){return this._state};i.prototype._setVolume=function(t){return this.flash.setData("volume",t)};i.prototype.setVolume=function(t){this._setVolume(t);return i.__super__.setVolume.call(this,t)};i.prototype._setMute=function(t){return this.flash.setData("mute",t)};i.prototype.setMute=function(t){this._setMute(t);return i.__super__.setMute.call(this,t)};i.prototype.setCurrentPosition=function(t){this.flash.f_play(t);return this};i.prototype.getCurrentPosition=function(){return this.flash.getData("position")};i.prototype.getLoadedPercent=function(){return this.flash.getData("loadedPct")};i.prototype.getTotalTime=function(){return this.flash.getData("length")};i.prototype._swfOnLoad=function(){this._loaded=true;return setTimeout(function(t){return function(){return t._fireQueue()}}(this),0)};i.prototype._swfOnStateChange=function(t){var e;e=u[t];if(e){return this.setState(e)}};i.prototype._swfOnErr=function(t){return this.trigger(o.ERROR,t)};return i}(i);return s});var extend=function(t,e){for(var r in e){if(hasProp.call(e,r))t[r]=e[r]}function i(){this.constructor=t}i.prototype=e.prototype;t.prototype=new i;t.__super__=e.prototype;return t},hasProp={}.hasOwnProperty;(function(t,e){if(typeof exports==="object"){return module.exports=e()}else if(typeof define==="function"&&define.amd){return define("muplayer/core/engines/flashMP3Core",["muplayer/core/cfg","muplayer/core/engines/flashCore"],e)}else{return t._mu.FlashMP3Core=e(_mu.cfg,_mu.FlashCore)}})(this,function(t,e){var r,i;i=t.engine.TYPES;r=function(t){extend(e,t);function e(){return e.__super__.constructor.apply(this,arguments)}e.prototype.defaults={swf:"muplayer_mp3.swf",instanceName:"MP3Core",flashVer:"9.0.0"};e.prototype._supportedTypes=["mp3"];e.prototype.engineType=i.FLASH_MP3;return e}(e);return r});var extend=function(t,e){for(var r in e){if(hasProp.call(e,r))t[r]=e[r]}function i(){this.constructor=t}i.prototype=e.prototype;t.prototype=new i;t.__super__=e.prototype;return t},hasProp={}.hasOwnProperty;(function(t,e){if(typeof exports==="object"){return module.exports=e()}else if(typeof define==="function"&&define.amd){return define("muplayer/core/engines/flashMP4Core",["muplayer/core/cfg","muplayer/core/engines/flashCore"],e)}else{return t._mu.FlashMP4Core=e(_mu.cfg,_mu.FlashCore)}})(this,function(t,e){var r,i;i=t.engine.TYPES;r=function(t){extend(e,t);function e(){return e.__super__.constructor.apply(this,arguments)}e.prototype.defaults={swf:"muplayer_mp4.swf",instanceName:"MP4Core",flashVer:"9.0.115"};e.prototype._supportedTypes=["m4a"];e.prototype.engineType=i.FLASH_MP4;return e}(e);return r});(function(t,e){if(typeof exports==="object"){return module.exports=e()}else if(typeof define==="function"&&define.amd){return define("muplayer/core/engines/engine",["muplayer/core/cfg","muplayer/core/utils","muplayer/lib/events","muplayer/core/engines/engineCore","muplayer/core/engines/audioCore","muplayer/core/engines/flashMP3Core","muplayer/core/engines/flashMP4Core"],e)}else{return t._mu.Engine=e(_mu.cfg,_mu.utils,_mu.Events,_mu.EngineCore,_mu.AudioCore,_mu.FlashMP3Core,_mu.FlashMP4Core)}})(this,function(cfg,utils,Events,EngineCore,AudioCore,FlashMP3Core,FlashMP4Core){var EVENTS,Engine,STATES,ref,timerResolution;ref=cfg.engine,EVENTS=ref.EVENTS,STATES=ref.STATES;timerResolution=cfg.timerResolution;Engine=function(){Engine.el='<div id="muplayer_container_{{DATETIME}}" style="width: 1px; height: 1px; background: transparent; position: absolute; left: 0; top: 0;"></div>';Engine.prototype.defaults={engines:[{type:FlashMP3Core},{type:FlashMP4Core},{type:AudioCore}]};function Engine(t){this.opts=$.extend({},this.defaults,t);this._initEngines()}Engine.prototype._initEngines=function(){var $el,args,engine,i,j,len,opts,ref1,type;this.engines=[];opts=this.opts;this.$el=$el=$(Engine.el.replace(/{{DATETIME}}/g,+new Date)).appendTo("body");this._lastE={};ref1=opts.engines;for(i=j=0,len=ref1.length;j<len;i=++j){engine=ref1[i];type=engine.type,args=engine.args;args=args||{};args.baseDir=opts.baseDir;args.$el=$el;try{if(!$.isFunction(type)){type=eval(type)}engine=new type(args)}catch(_error){throw new Error("Missing engine type: "+String(engine.type))}if(engine._test&&engine._test()){this.engines.push(engine)}}if(this.engines.length){return this.setEngine(this.engines[0])}else{return this.setEngine(new EngineCore)}};Engine.prototype.setEngine=function(t){var e,r,i,n,o,s,a,u;s=this;a=function(t){var e,r,i;e=s._lastE;r=t.newState,i=t.oldState;if(i===e.oldState&&r===e.newState){return}s._lastE={oldState:i,newState:r};s.trigger(EVENTS.STATECHANGE,t);if(r===STATES.CANPLAYTHROUGH&&(i===STATES.PLAYING||i===STATES.PAUSE||i===STATES.STOP)){return s.setState(i)}};n=function(t){return s.trigger(EVENTS.POSITIONCHANGE,t)};o=function(t){return s.trigger(EVENTS.PROGRESS,t)};r=function(t){return s.trigger(EVENTS.ERROR,t)};e=function(t){return t.on(EVENTS.STATECHANGE,a).on(EVENTS.POSITIONCHANGE,n).on(EVENTS.PROGRESS,o).on(EVENTS.ERROR,r)};u=function(t){return t.off(EVENTS.STATECHANGE,a).off(EVENTS.POSITIONCHANGE,n).off(EVENTS.PROGRESS,o).off(EVENTS.ERROR,r);
};if(!this.curEngine){return this.curEngine=e(t)}else if(this.curEngine!==t){i=this.curEngine;u(i).reset();this.curEngine=e(t);return this.curEngine.setVolume(i.getVolume()).setMute(i.getMute())}};Engine.prototype.canPlayType=function(t){if(t==="mp4a"){t="m4a"}return $.inArray(t,this.getSupportedTypes())!==-1};Engine.prototype.getSupportedTypes=function(){var t,e,r,i,n;n=[];i=this.engines;for(e=0,r=i.length;e<r;e++){t=i[e];n=n.concat(t.getSupportedTypes())}return n};Engine.prototype.switchEngineByType=function(t){var e,r,i,n,o;n=false;o=this.engines;for(r=0,i=o.length;r<i;r++){e=o[r];if(e.canPlayType(t)){this.setEngine(e);n=true;break}}if(!n){return this.setEngine(this.engines[0])}};Engine.prototype.reset=function(){this.curEngine.reset();return this};Engine.prototype.destroy=function(){var t,e,r,i;this.reset().off();i=this.engines;for(e=0,r=i.length;e<r;e++){t=i[e];t.destroy()}this.engines.length=0;this.$el.off().remove();delete this.curEngine;return this};Engine.prototype.setUrl=function(t){var e;if(!t){return this}e=utils.getExt(t);if(this.canPlayType(e)){if(!this.curEngine.canPlayType(e)){this.switchEngineByType(e)}}else{throw new Error("Can not play with: "+e)}this.curEngine.reset().setUrl(t);return this};Engine.prototype.getUrl=function(){return this.curEngine.getUrl()};Engine.prototype.play=function(){this.curEngine.play();return this};Engine.prototype.pause=function(){this.curEngine.pause();this.trigger(EVENTS.POSITIONCHANGE,this.getCurrentPosition());return this.setState(STATES.PAUSE)};Engine.prototype.stop=function(){this.curEngine.stop();this.trigger(EVENTS.POSITIONCHANGE,0);return this.setState(STATES.STOP)};Engine.prototype.setState=function(t){this.curEngine.setState(t);return this};Engine.prototype.getState=function(){return this.curEngine.getState()};Engine.prototype.setMute=function(t){this.curEngine.setMute(!!t);return this};Engine.prototype.getMute=function(){return this.curEngine.getMute()};Engine.prototype.setVolume=function(t){if($.isNumeric(t)&&t>=0&&t<=100){this.curEngine.setVolume(t)}return this};Engine.prototype.getVolume=function(){return this.curEngine.getVolume()};Engine.prototype.setCurrentPosition=function(t){t=~~t;this.curEngine.setCurrentPosition(t);return this};Engine.prototype.getCurrentPosition=function(){if(this.getState()===STATES.STOP){this.setCurrentPosition(0)}return this.curEngine.getCurrentPosition()};Engine.prototype.getLoadedPercent=function(){return this.curEngine.getLoadedPercent()};Engine.prototype.getTotalTime=function(){return this.curEngine.getTotalTime()};Engine.prototype.getEngineType=function(){return this.curEngine.engineType};return Engine}();Events.mixTo(Engine);return Engine});var slice=[].slice;(function(t,e){if(typeof exports==="object"){return module.exports=e()}else if(typeof define==="function"&&define.amd){return define("muplayer/player",["muplayer/core/cfg","muplayer/core/utils","muplayer/lib/Timer","muplayer/lib/events","muplayer/core/playlist","muplayer/core/engines/engine"],e)}else{return t._mu.Player=e(_mu.cfg,_mu.utils,_mu.Timer,_mu.Events,_mu.Playlist,_mu.Engine)}})(this,function(t,e,r,i,n,o){var s,a,u,p,l,f;l=t.engine,s=l.EVENTS,u=l.STATES;f=e.time2str;p=function(t,e){var r,i;if(t!=="prev"&&t!=="next"){return this}i=function(r){return function(){var i;i={cur:r.getCur()};if(e){i.auto=e}r.trigger("player:"+t,i);return r.stop(false).play()}}(this);if(this.getSongsNum()){r=this.playlist;if(!r.cur){i()}else if(r[t].call(r,e)){i()}else{this.trigger("player:"+t+":fail",e)}}return this};a=function(){var t;t=null;i.defaults={baseDir:"http://mu5.bdstatic.com/cms/muplayer/1-0-0/",mode:"loop",mute:false,volume:80,singleton:true,absoluteUrl:true,maxRetryTimes:1,maxWaitingTime:4,recoverMethod:"retry",fetch:function(){var t,e;e=$.Deferred();t=this.getCur();setTimeout(function(r){return function(){r.setUrl(t);return e.resolve()}}(this),0);return e.promise()}};function i(e){var s,a,u;this.opts=a=$.extend({},i.defaults,e);this.waitingTimer=new r(100);this._checkFrozen(["play","pause","stop","next","prev","retry","replay","setVolume","setMute","setUrl","setCurrentPosition","_startWaitingTimer"]);s=a.baseDir,u=a.singleton;if(!s.endsWith("/")){s=s+"/"}if(u){if(t){return t}t=this}this.playlist=new n({absoluteUrl:a.absoluteUrl});this.playlist.setMode(a.mode);this._initEngine(new o({baseDir:s,engines:a.engines}));this.setMute(a.mute);this.setVolume(a.volume);this.reset()}i.prototype._initEngine=function(t){var e,r;r=this;e=this.opts.recoverMethod;this.engine=t;return this.engine.on(s.STATECHANGE,function(t){var e;e=t.newState;r.trigger("player:statechange",t);r.trigger(e);if(e===u.END){return r._clearWaitingTimer().next(true)}}).on(s.POSITIONCHANGE,function(t){var e;t=~~t;if(!t){return}e=r.getState();if(r.getUrl()&&(e===u.PLAYING||e===u.PREBUFFER||e===u.BUFFERING||e===u.CANPLAYTHROUGH)){r.trigger("timeupdate",t);return r._startWaitingTimer()}}).on(s.PROGRESS,function(t){return r.trigger("progress",t)}).on(s.ERROR,function(t){if(r.getUrl()){if(typeof console!=="undefined"&&console!==null){if(typeof console.error==="function"){console.error("error: ",t)}}return r.trigger("error",t)}}).on(s.WAITING_TIMEOUT,function(){if(r.getEngineType()==="AudioCore"&&r.engine.curEngine._isEmpty()){return}if(!r.getUrl()){return}if(e==="retry"||e==="next"){r[e]()}return r.trigger("player:waiting_timeout")})};i.prototype.retry=function(){var t,e,r;if(this._retryTimes++<this.opts.maxRetryTimes){this._startWaitingTimer().trigger("player:retry",this._retryTimes);t=this.engine;r=this.getUrl();e=t.getCurrentPosition();this.pause().once("timeupdate",function(){return t.setCurrentPosition(e)});t.setUrl(r).play()}else{this._retryTimes=0;this.trigger("player:retry:max")}return this};i.prototype.play=function(t){var e,r,i,n,o;n=this;r=this.engine;e=$.Deferred();i=function(){if(!n._frozen){n._startWaitingTimer();if(n.getUrl()){r.play();if($.isNumeric(t)){r.setCurrentPosition(t)}}}return e.resolve()};o=this.getState();if(o===u.STOP||o===u.END){this.trigger("player:fetch:start");this.opts.fetch.call(this).done(function(){i();return n.trigger("player:fetch:done")}).fail(function(t){return n.trigger("player:fetch:fail",t)})}else{i()}n.trigger("player:play",t);return e.promise()};i.prototype.pause=function(t){if(t==null){t=true}this.engine.pause();this._clearWaitingTimer();if(t){this.trigger("player:pause")}return this};i.prototype.stop=function(t){if(t==null){t=true}this.engine.stop();this._clearWaitingTimer();if(t){this.trigger("player:stop")}return this};i.prototype.replay=function(){this.pause(false).play(0);return this};i.prototype.prev=function(){return p.apply(this,["prev"])};i.prototype.next=function(t){return p.apply(this,["next",t])};i.prototype.getCur=function(){var t,e;e=this.playlist;t=e.cur;if(!t&&this.getSongsNum()){e.cur=t=e.list[0]}return this._sid=""+t};i.prototype.setCur=function(t){var e;t=""+t;e=this.playlist;if(!t&&this.getSongsNum()){t=e.list[0]}if(t&&this._sid!==t){e.setCur(t);this._sid=t;this.stop(false)}this.trigger("player:setCur",t);return this};i.prototype.curPos=function(t){var e;e=this.engine.getCurrentPosition()/1e3;if(t){return f(e)}else{return e}};i.prototype.duration=function(t){var e;e=this.engine.getTotalTime()/1e3;if(t){return f(e)}else{return e}};i.prototype.add=function(t,e){if(e==null){e=true}if(t){this.playlist.add(t,e)}this.trigger("player:add",t);return this};i.prototype.remove=function(t){if(t){this.playlist.remove(t)}if(!this.getSongsNum()){this.reset()}this.trigger("player:remove",t);return this};i.prototype.reset=function(){delete this._sid;this._retryTimes=0;this.playlist.reset();this.engine.reset();this.trigger("player:reset");return this.stop(false)};i.prototype.destroy=function(){this.reset().off();this.engine.destroy();this.playlist.destroy();t=null;return this};i.prototype.getState=function(){return this.engine.getState()};i.prototype.setUrl=function(t){if(!t){return this}this.stop(false).engine.setUrl(t);this.trigger("player:setUrl",t);return this};i.prototype.getUrl=function(){return this.engine.getUrl()};i.prototype.getExt=function(){return e.getExt(this.getUrl())};i.prototype.setVolume=function(t){this.engine.setVolume(t);this.trigger("player:setVolume",t);return this};i.prototype.getVolume=function(){return this.engine.getVolume()};i.prototype.setMute=function(t){this.engine.setMute(t);this.trigger("player:setMute",t);return this};i.prototype.getMute=function(){return this.engine.getMute()};i.prototype.canPlayType=function(t){return this.engine.canPlayType(t)};i.prototype.getSongsNum=function(){return this.playlist.list.length};i.prototype.setMode=function(t){this.playlist.setMode(t);this.trigger("player:setMode",t);return this};i.prototype.getMode=function(){return this.playlist.mode};i.prototype.getEngineType=function(){return this.engine.curEngine.engineType};i.prototype.setFrozen=function(t){this._frozen=!!t;return this};i.prototype.cheatPlayer=function(){if(this.getEngineType()==="AudioCore"){this.engine.curEngine._playEmpty()}return this};i.prototype._checkFrozen=function(t){var r,i,n,o,s;s=this;o=[];for(r=0,i=t.length;r<i;r++){n=t[r];o.push(s[n]=e.wrap(s[n],function(){var t,e;e=arguments[0],t=2<=arguments.length?slice.call(arguments,1):[];if(!s._frozen){e.apply(s,t)}return s}))}return o};i.prototype._startWaitingTimer=function(){var t;t=this.opts.maxWaitingTime;if(t>0){this.waitingTimer.clear().after(t+" seconds",function(t){return function(){return t.engine.trigger(s.WAITING_TIMEOUT)}}(this)).start()}return this};i.prototype._clearWaitingTimer=function(){this.waitingTimer.clear();return this};return i}();i.mixTo(a);return a});